<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriConnect - Your Complete Farming Partner</title>
    
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
</head>
<body>

    <header class="app-header">
        <div class="container">
            <a href="index.html" class="logo">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.58 9.55c-1.84-3.53-5.02-6.11-8.8-6.53-2.2-.25-4.44.2-6.39 1.28-1.95 1.08-3.51 2.76-4.48 4.79-.31.65-.21 1.41.24 1.95.45.54 1.2.75 1.86.54.66-.21 1.11-.82.9-1.48.79-1.67 2.06-3.03 3.65-3.87 1.59-.84 3.42-1.16 5.25-.9 3.03.43 5.61 2.5 6.96 5.11.39.75 1.22 1.13 2 .85.78-.28 1.25-1.08.97-1.85zM2.42 14.45c1.84 3.53 5.02 6.11 8.8 6.53 2.2.25 4.44-.2 6.39-1.28 1.95-1.08 3.51 2.76 4.48-4.79.31-.65-.21-1.41-.24-1.95-.45-.54-1.2-.75-1.86-.54-.66-.21-1.11.82-.9 1.48-.79 1.67-2.06 3.03-3.65 3.87-1.59-.84-3.42-1.16-5.25-.9-3.03-.43-5.61-2.5-6.96-5.11-.39-.75-1.22-1.13-2-.85-.78-.28-1.25-1.08-.97 1.85z" fill="#2ECC71"></path></svg>
                <h1 data-translate-key="app_title">AgriConnect</h1>
            </a>
            <nav class="main-nav">
                <a href="prices.html" data-translate-key="nav_marketplace">Marketplace</a>
                <a href="farmlog.html" data-translate-key="nav_farmlog">Farm Log</a>
                <a href="tools.html" data-translate-key="nav_tools">AI Tools</a>
                <a href="knowledge-hub.html" data-translate-key="nav_knowledge">Knowledge Hub</a>
                
                <a href="insurance.html" data-translate-key="nav_insurance">Insurance</a>
                <a href="loan.html" data-translate-key="nav_loans">Loans</a>
                
                <a href="digilocker.html" data-translate-key="nav_digi">DigiLocker</a>
                
                <img src="https://placehold.co/40x40/E8F5E9/2c3e50?text=U" alt="Profile" id="profile-nav-pic" title="View Profile">
                <select id="language-selector">
                    <option value="en">English</option>
                    <option value="kn">ಕನ್ನಡ (Kannada)</option>
                    <option value="hi">हिन्दी (Hindi)</option>
                    
                </select>
            </nav>
            <button class="mobile-menu-btn" aria-label="Open navigation menu">
                <i data-feather="menu"></i>
            </button>
        </div>
    </header>

    <main>
        <section class="hero-section">
            <div class="container reveal">
                <h2 id="welcome-message" data-translate-key="hero_title">Harvesting a Better Tomorrow, Today.</h2>
                <p data-translate-key="hero_subtitle">Welcome to AgriConnect, the digital backbone for India's farmers. Real-time data, a thriving marketplace, and intelligent tools to boost your yield and income.</p>
                <div class="hero-buttons">
                    <a href="#features" class="btn btn-primary" data-translate-key="hero_btn_explore">Explore All Tools</a>
                    <a href="sell.html" class="btn btn-secondary" data-translate-key="hero_btn_sell">List Your Crop</a>
                </div>
            </div>
        </section>

               
        <section class="quick-stats-bar alt-bg">
            <div class="container reveal">
                <div class="stat-item" id="weather-stat">
                    <i data-feather="sun"></i>
                    <div>
                        <strong data-translate-key="stats_weather_location">Bannikuppe Weather</strong>
                        <span id="weather-data">Loading...</span>
                    </div>
                </div>
                <div class="stat-item" id="price-stat">
                    <i data-feather="trending-up"></i>
                    <div>
                        <strong data-translate-key="stats_price_crop">Today's Wheat Price</strong>
                        <span id="price-data">Loading...</span>
                    </div>
                </div>
                <div class="stat-item" id="tasks-stat">
                    <i data-feather="check-square"></i>
                    <div>
                        <strong data-translate-key="stats_tasks_title">Pending Tasks</strong>
                        <a href="farmlog.html" id="tasks-data">Loading tasks...</a>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="price-ticker-section">
            <div class="price-ticker-container">
                <div class="price-ticker-tape" id="price-ticker-tape">
                    </div>
            </div>
        </section>

        <section id="features" class="app-section">
            <div class="container reveal">
                <div class="section-header">
                    <h3 data-translate-key="features_title">One Platform, Every Farming Solution</h3>
                    <p data-translate-key="features_subtitle">From seed to market, AgriConnect provides the tools you need to thrive in modern agriculture.</p>
                </div>
                <div class="card-grid">

                    <div class="feature-card">
                        <div class="icon"><i data-feather="cpu"></i></div>
                        <h4 data-translate-key="feature_card_ai_tools_title">AI Tools Hub</h4>
                        <p data-translate-key="feature_card_ai_tools_desc">Your central hub for all our intelligent assistants, from diagnosis to price forecasting.</p>
                        <a href="tools.html" class="btn btn-full" data-translate-key="feature_card_button">Explore AI</a>
                    </div>

                    <div class="feature-card">
                        <div class="icon"><i data-feather="shopping-cart"></i></div>
                        <h4 data-translate-key="feature_card_marketplace_title">Marketplace</h4>
                        <p data-translate-key="feature_card_marketplace_desc">Buy and sell crops directly from farmers and verified suppliers across the nation.</p>
                        <a href="buy.html" class="btn btn-full" data-translate-key="feature_card_marketplace_button">Visit Market</a>
                    </div>
                    <div class="feature-card">
                        <div class="icon">
                            <i data-feather="users"></i>
                        </div>
                        <h4 data-translate-key="hire_labour_title">Hire Labour</h4>
                        <p data-translate-key="hire_labour_desc">Quickly find and hire skilled agricultural labourers, or list yourself for work opportunities.</p>
                        <a href="hire-labour.html" class="btn btn-full" data-translate-key="hire_labour_btn">Hire Now</a>
                    </div>

                    <div class="feature-card">
                        <div class="icon"><i data-feather="clipboard"></i></div>
                        <h4 data-translate-key="feature_card_farmlog_title">Farm Log & Tasks</h4>
                        <p data-translate-key="feature_card_farmlog_desc">Track your crop yields, costs, and manage your daily tasks with our integrated logbook.</p>
                        <a href="farmlog.html" class="btn btn-full" data-translate-key="feature_card_farmlog_button">Open Log</a>
                    </div>

                    <div class="feature-card">
                        <div class="icon">
                            <i data-feather="trending-up"></i>
                        </div>
                        <h4 data-translate-key="market_prices_forecasts_title">Market Prices & AI Forecasts</h4>
                        <p data-translate-key="market_prices_forecasts_desc">Stay ahead with real-time market prices for your crops. Our advanced AI algorithms provide accurate price forecasts.</p>
                        <a href="prices.html" class="btn btn-full" data-translate-key="market_prices_forecasts_button">View Forecasts</a>
                    </div>

                    <div class="feature-card">
                        <div class="icon"><i data-feather="book-open"></i></div>
                        <h4 data-translate-key="feature_card_knowledge_title">Knowledge Hub</h4>
                        <p data-translate-key="feature_card_knowledge_desc">Watch expert video tutorials, farmer-made reels, and attend live educational sessions.</p>
                        <a href="knowledge-hub.html" class="btn btn-full" data-translate-key="feature_card_knowledge_button">Start Learning</a>
                    </div>

                    <div class="feature-card">
                        <div class="icon"><i data-feather="users"></i></div>
                        <h4 data-translate-key="feature_card_community_title">Community Forum</h4>
                        <p data-translate-key="feature_card_community_desc">Connect with other farmers, ask questions, and share your experiences and success stories.</p>
                        <a href="https://chat.whatsapp.com/FDRP9nvvieYFiJhSXYFixW" target="_blank" class="btn btn-full" data-translate-key="community_btn">
                            Join Discussion
                        </a>
                    </div>

                    <div class="feature-card">
                        <div class="icon"><i data-feather="shield"></i></div>
                        <h4 data-translate-key="feature_card_insurance_title">Crop Insurance</h4>
                        <p data-translate-key="feature_card_insurance_desc">Secure your harvest with tailored insurance plans. Get AI advice and file claims easily.</p>
                        <a href="insurance.html" class="btn btn-full" data-translate-key="feature_card_insurance_button">Get a Quote</a>
                    </div>

                    <div class="feature-card">
                        <div class="icon"><i data-feather="lock"></i></div>
                        <h4 data-translate-key="feature_card_digilocker_title">Digital Locker</h4>
                        <p data-translate-key="feature_card_digilocker_desc">Securely store and get AI summaries of your important documents like land records.</p>
                        <a href="digilocker.html" class="btn btn-full" data-translate-key="feature_card_digilocker_button">Open Locker</a>
                    </div>
                    
                    <div class="feature-card">
                        <div class="icon">
                            <i data-feather="tool"></i>
                        </div>
                        <h4 data-translate-key="tool_rental_title">Agricultural Tool Rental</h4>
                        <p data-translate-key="tool_rental_desc">Easily rent agricultural tools for your needs or list your own tools to earn income.</p>
                        <a href="rent-tools.html" class="btn btn-full" data-translate-key="tool_rental_button">Find Tools</a>
                    </div>

                    <div class="feature-card">
                        <div class="icon">
                            <i data-feather="shopping-bag"></i>
                        </div>
                        <h4 data-translate-key="farm_shop_title">Farm Shop</h4>
                        <p data-translate-key="farm_shop_desc">Purchase high-quality seeds, fertilizers, and other essential farming supplies directly from trusted suppliers.</p>
                        <a href="shop.html" class="btn btn-full" data-translate-key="farm_shop_button">Shop Now</a>
                    </div>
                    
                    <div class="feature-card">
                        <div class="icon">
                            <i data-feather="credit-card"></i>
                        </div>
                        <h4 data-translate-key="loan_management_title">Loan Management Portal</h4>
                        <p data-translate-key="loan_management_desc">Manage your agricultural loans with ease. Apply for new loans, track your repayment schedule, and get personalized financial advice.</p>
                        <a href="loan.html" class="btn btn-full" data-translate-key="loan_management_button">Manage Loans</a>
                    </div>
                    <div class="feature-card">
                        <div class="icon">
                            <i data-feather="phone-call"></i>
                        </div>
                        <h4 data-translate-key="helpline_title">Farmer Support & Helpline</h4>
                        <p data-translate-key="helpline_desc">Get instant support from our agricultural experts. Our helpline is available 24/7 to answer your questions and provide guidance.</p>
                        <a href="support.html" class="btn btn-full" data-translate-key="helpline_button">Call Helpline</a>
                    </div>

                </div>
            </div>
        </section>

        <section id="how-it-works" class="app-section alt-bg">
            <div class="container reveal">
                <div class="section-header">
                    <h3 data-translate-key="how_it_works_title">Your Farming Cycle, Upgraded</h3>
                    <p data-translate-key="how_it_works_subtitle">Follow these steps to maximize your farm's potential with AgriConnect.</p>
                </div>
                <div class="how-it-works-grid">
                    <div class="step">
                        <div class="step-icon"><i data-feather="aperture"></i></div>
                        <div class="step-number">1</div>
                        <h4 data-translate-key="step1_title">Diagnose & Plan</h4>
                        <p data-translate-key="step1_desc">Use AI tools to diagnose crop issues early and generate a personalized farming plan for the season.</p>
                    </div>
                    <div class="step-arrow">&rarr;</div>
                    <div class="step">
                        <div class="step-icon"><i data-feather="shopping-bag"></i></div>
                        <div class="step-number">2</div>
                        <h4 data-translate-key="step2_title">Buy Quality Inputs</h4>
                        <p data-translate-key="step2_desc">Purchase certified seeds, fertilizers, and equipment from our trusted Agri-Shop marketplace.</p>
                    </div>
                    <div class="step-arrow">&rarr;</div>
                    <div class="step">
                        <div class="step-icon"><i data-feather="bar-chart-2"></i></div>
                        <div class="step-number">3</div>
                        <h4 data-translate-key="step3_title">Track Your Progress</h4>
                        <p data-translate-key="step3_desc">Log your activities, costs, and yields in the Farm Log. Use the dashboard to monitor performance.</p>
                    </div>
                    <div class="step-arrow">&rarr;</div>
                    <div class="step">
                        <div class="step-icon"><i data-feather="truck"></i></div>
                        <div class="step-number">4</div>
                        <h4 data-translate-key="step4_title">Sell at the Best Price</h4>
                        <p data-translate-key="step4_desc">Check live mandi prices, get AI forecasts, and list your produce for sale to verified buyers.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="app-section">
            <div class="container reveal">
                <div class="section-header">
                    <h3 data-translate-key="preview_title">Latest from the Community & Hub</h3>
                    <p data-translate-key="preview_subtitle">Stay updated with the latest tutorials, discussions, and upcoming events.</p>
                </div>
                <div class="content-preview-grid">
                    <div class="preview-card tutorial-preview">
                        <a href="knowledge-hub.html" class="preview-image-link">
                            <img src="https://img.youtube.com/vi/nNP4o1wE6Vo/hqdefault.jpg" alt="Tutorial Thumbnail">
                            <div class="play-icon"><i data-feather="play"></i></div>
                        </a>
                        <div class="preview-info">
                            <span class="preview-tag" data-translate-key="preview_tag_tutorial">Expert Tutorial</span>
                            <h4 data-translate-key="tutorial_title">Modern Agricultural Practices</h4>
                            <p data-translate-key="tutorial_desc">Learn about the latest innovations in farming to boost efficiency and sustainability.</p>
                            <a href="knowledge-hub.html" class="preview-link" data-translate-key="preview_link_tutorials">Watch More Tutorials &rarr;</a>
                        </div>
                    </div>
                    <div class="preview-card session-preview">
                        <a href="knowledge-hub.html" class="preview-image-link">
                            <img src="images/Drip3.jpg" alt="Expert">
                        </a>
                        <div class="preview-info">
                            <span class="preview-tag" style="background-color: var(--secondary-color);" data-translate-key="preview_tag_live">Upcoming Live Session</span>
                            <h4 data-translate-key="live_session_title">Drip Irrigation Techniques</h4>
                            <p data-translate-key="live_session_desc">Join Dr. Ramesh Gupta to learn about water conservation. Sept 20, 4:00 PM.</p>
                            <a href="knowledge-hub.html" class="preview-link" data-translate-key="preview_link_sessions">See All Sessions &rarr;</a>
                        </div>
                    </div>
                    <div class="preview-card community-preview">
                        <div class="preview-info">
                            <span class="preview-tag" style="background-color: #3498db;" data-translate-key="preview_tag_community">From the Community</span>
                            <div class="community-post">
                                <div class="post-author">
                                    <img src="https://placehold.co/40x40/2c3e50/ffffff?text=R" alt="Ramesh K.">
                                    <div>
                                        <strong data-translate-key="community_post_author_name">Ramesh K.</strong>
                                        <span data-translate-key="community_post_author_location">from Haryana</span>
                                    </div>
                                </div>
                                <p class="post-text" data-translate-key="community_post_text">"My wheat yield increased by 15% this year after using the AI Yield Analysis tool to adjust my fertilizer schedule. Has anyone else seen good results?"</p>
                            </div>
                            <a href="https://chat.whatsapp.com/FDRP9nvvieYFiJhSXYFixW" class="preview-link" data-translate-key="preview_link_community" target="_blank">Join the Conversation &rarr;</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="testimonial" class="app-section alt-bg">
            <div class="container reveal">
                <div class="testimonial-slider-container">
                    <div class="testimonial-slide active">
                        <blockquote data-translate-key="testimonial1_text">"AgriConnect is a game-changer. The AI diagnosis saved my tomato crop, and the live mandi prices helped me increase my profits by over 20% last season. It's a must-have for every Indian farmer."</blockquote>
                        <cite data-translate-key="testimonial1_author_name">Ramesh Kumar, <span data-translate-key="testimonial1_author_location">Farmer from Hisar, Haryana</span></cite>
                    </div>
                    <div class="testimonial-slide">
                        <blockquote data-translate-key="testimonial2_text">"The Farm Log is brilliant. For the first time, I have all my data in one place. The AI task suggestions remind me of important activities I used to forget. Highly recommended!"</blockquote>
                        <cite data-translate-key="testimonial2_author_name">Sunita Devi, <span data-translate-key="testimonial2_author_location">Farmer from Nashik, Maharashtra</span></cite>
                    </div>
                    <div class="testimonial-slide">
                        <blockquote data-translate-key="testimonial3_text">"I used the AI Price Forecaster before taking my ragi to the market and waited two more weeks as it suggested. I made an extra ₹8,000! This tool is pure magic."</blockquote>
                        <cite data-translate-key="testimonial3_author_name">Ganesh Murthy, <span data-translate-key="testimonial3_author_location">Farmer from Mandya, Karnataka</span></cite>
                    </div>
                    <div class="testimonial-nav">
                        <button class="nav-dot active"></button>
                        <button class="nav-dot"></button>
                        <button class="nav-dot"></button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <div id="profile-sidebar-overlay" class="sidebar-overlay"></div>
    <div id="profile-sidebar" class="sidebar">
        <button id="close-sidebar-btn" class="close-btn" aria-label="Close profile sidebar">&times;</button>
        <iframe src="profile.html" title="User Profile and Settings"></iframe>
    </div>

    <footer class="app-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col about-col">
                    <a href="index.html" class="logo">
                        <svg width="32" height="32" viewBox="0 0 24 24"><path d="M21.58 9.55c-1.84-3.53-5.02-6.11-8.8-6.53-2.2-.25-4.44.2-6.39 1.28-1.95 1.08-3.51 2.76-4.48 4.79-.31.65-.21 1.41.24 1.95.45.54 1.2.75 1.86.54.66-.21 1.11-.82.9-1.48.79-1.67 2.06-3.03 3.65-3.87 1.59-.84-3.42-1.16-5.25-.9-3.03-.43-5.61 2.5-6.96 5.11-.39-.75-1.22-1.13-2-.85-.78-.28-1.25-1.08-.97 1.85zM2.42 14.45c1.84 3.53 5.02 6.11 8.8 6.53 2.2.25 4.44-.2 6.39-1.28 1.95-1.08 3.51 2.76 4.48-4.79.31-.65-.21-1.41-.24-1.95-.45-.54-1.2-.75-1.86-.54-.66-.21-1.11.82-.9 1.48-.79 1.67-2.06 3.03-3.65 3.87-1.59-.84-3.42-1.16-5.25-.9-3.03-.43-5.61-2.5-6.96-5.11-.39-.75-1.22-1.13-2-.85-.78-.28-1.25-1.08-.97 1.85z" fill="#2ECC71"></path></svg>
                        <h4 style="color: white; font-size: 1.5rem;">AgriConnect</h4>
                    </a>
                    <p data-translate-key="footer_about_text">Empowering the heart of India. We are committed to bringing technology and profitability to every farmer.</p>
                    <div class="social-icons">
                        <a href="https://x.com/SAGARM2005?t=hI44DMoGWfNhKxbnb8RBCw&s=09" target="_blank" aria-label="Twitter"><i data-feather="twitter"></i></a>
                        <a href="https://www.instagram.com/mr.saga_rix_?igsh=NHNxMnNsMTV4NW05" target="_blank" aria-label="Instagram"><i data-feather="instagram"></i></a>
                        <a href="https://wa.me/919019989269" target="_blank" aria-label="WhatsApp"><i data-feather="message-square"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h5 data-translate-key="footer_tools_title">Our Tools</h5>
                    <ul>
                        <li><a href="prices.html" data-translate-key="nav_prices">Mandi Prices</a></li>
                        <li><a href="buy.html" data-translate-key="nav_marketplace">Marketplace</a></li>
                        <li><a href="tools.html" data-translate-key="nav_tools">AI Tools</a></li>
                        <li><a href="insurance.html" data-translate-key="feature_card_insurance_title">Insurance</a></li>
                        <li><a href="digilocker.html" data-translate-key="feature_card_digilocker_title">DigiLocker</a></li>
                        <li><a href="loan.html" data-translate-key="loan_management_title">Loans</a></li>
                        <li><a href="rent-tools.html" data-translate-key="tool_rental_title">Tool Rental</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h5 data-translate-key="footer_contact_title">Contact Info</h5>
                    <ul>
                        <li>
                            <i data-feather="map-pin"></i>
                            <span>Dayananda Sagar University, Harohalli, Ramnagara district, 562112</span>
                        </li>
                        <li>
                            <i data-feather="phone"></i>
                            <a href="tel:9019989269">9019989269</a>
                        </li>
                        <li>
                            <i data-feather="mail"></i>
                            <a href="mailto:eng23ds0029@dsu.edu.in">eng23ds0029@dsu.edu.in</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 AgriConnect. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <button class="chatbot-button" id="chatbot-button">
        <div class="speech-bubble" data-translate-key="chat_bubble_text">Chat with me</div>
        <img src="images\chaticon.svg" alt="AgriBot Mascot" class="chatbot-image">
    </button>

    <div class="chat-modal-overlay" id="chat-modal">
        <div class="chat-modal-content chat-background-image">
            <button class="chat-modal-close" id="chat-modal-close">&times;</button>
            <div class="chat-header">
                <img src="images/logochat.jpg" alt="AgriBot Mascot" class="chat-header-image-small">
                <div class="chat-header-text">
                    <h1 data-translate-key="chat_header_title">KisanMitra</h1>
                    <p data-translate-key="chat_header_subtitle">Your agricultural assistant</p>
                </div>
                <select id="language-select-chatbot" class="language-select">
                    <option value="hi">Hindi</option>
                    <option value="en">English</option>
                    <option value="kn">ಕನ್ನಡ</option>
                </select>
            </div>
            <div class="chat-messages" id="chat-messages"></div>
            <div class="chat-input">
                <input type="text" id="user-input" placeholder="Ask your question..." autocomplete="off">
                <button class="voice-btn" id="voice-button"><span class="material-icons">mic</span></button>
                <button id="send-button"><span class="material-icons" style="font-size: 1.5rem;">send</span></button>
            </div>
        </div>
    </div>

    <script type="module">
        import { GoogleGenAI } from "https://esm.run/@google/genai";
        // --- Feather Icons Initialization ---
        feather.replace();

        document.addEventListener('DOMContentLoaded', () => {
            // --- Translations Object ---
            const translations = {
                "en": {
                    "app_title": "AgriConnect",
                    "nav_marketplace": "Marketplace",
                    "nav_farmlog": "Farm Log",
                    "nav_tools": "AI Tools",
                    "nav_knowledge": "Knowledge Hub",
                    "nav_labour": "Labour",
                    "nav_loans": "Loans",
                    "nav_insurance": "Insurance",
                    "nav_rent": "Rent-tools",
                    "nav_digi": "DigiLocker",
                    "hero_title": "Harvesting a Better Tomorrow, Today.",
                    "hero_subtitle": "Welcome to AgriConnect, the digital backbone for India's farmers. Real-time data, a thriving marketplace, and intelligent tools to boost your yield and income.",
                    "hero_btn_explore": "Explore All Tools",
                    "hero_btn_sell": "List Your Crop",
                    "stats_weather_location": "Bannikuppe Weather",
                    "stats_price_crop": "Today's Wheat Price",
                    "stats_tasks_title": "Pending Tasks",
                    "features_title": "One Platform, Every Farming Solution",
                    "features_subtitle": "From seed to market, AgriConnect provides the tools you need to thrive in modern agriculture.",
                    "feature_card_ai_tools_title": "AI Tools Hub",
                    "feature_card_ai_tools_desc": "Your central hub for all our intelligent assistants, from diagnosis to price forecasting.",
                    "feature_card_button": "Explore AI",
                    "feature_card_marketplace_title": "Marketplace",
                    "feature_card_marketplace_desc": "Buy and sell crops directly from farmers and verified suppliers across the nation.",
                    "feature_card_marketplace_button": "Visit Market",
                    "hire_labour_title": "Hire Labour",
                    "hire_labour_desc": "Quickly find and hire skilled agricultural labourers, or list yourself for work opportunities.",
                    "hire_labour_btn": "Hire Now",
                    "feature_card_farmlog_title": "Farm Log & Tasks",
                    "feature_card_farmlog_desc": "Track your crop yields, costs, and manage your daily tasks with our integrated logbook.",
                    "feature_card_farmlog_button": "Open Log",
                    "market_prices_forecasts_title": "Market Prices & AI Forecasts",
                    "market_prices_forecasts_desc": "Stay ahead with real-time market prices for your crops. Our advanced AI algorithms provide accurate price forecasts.",
                    "market_prices_forecasts_button": "View Forecasts",
                    "feature_card_knowledge_title": "Knowledge Hub",
                    "feature_card_knowledge_desc": "Watch expert video tutorials, farmer-made reels, and attend live educational sessions.",
                    "feature_card_knowledge_button": "Start Learning",
                    "feature_card_community_title": "Community Forum",
                    "feature_card_community_desc": "Connect with other farmers, ask questions, and share your experiences and success stories.",
                    "community_btn": "Join Discussion",
                    "feature_card_insurance_title": "Crop Insurance",
                    "feature_card_insurance_desc": "Secure your harvest with tailored insurance plans. Get AI advice and file claims easily.",
                    "feature_card_insurance_button": "Get a Quote",
                    "feature_card_digilocker_title": "Digital Locker",
                    "feature_card_digilocker_desc": "Securely store and get AI summaries of your important documents like land records.",
                    "feature_card_digilocker_button": "Open Locker",
                    "tool_rental_title": "Agricultural Tool Rental",
                    "tool_rental_desc": "Easily rent agricultural tools for your needs or list your own tools to earn income.",
                    "tool_rental_button": "Find Tools",
                    "farm_shop_title": "Farm Shop",
                    "farm_shop_desc": "Purchase high-quality seeds, fertilizers, and other essential farming supplies directly from trusted suppliers.",
                    "farm_shop_button": "Shop Now",
                    "loan_management_title": "Loan Management Portal",
                    "loan_management_desc": "Manage your agricultural loans with ease. Apply for new loans, track your repayment schedule, and get personalized financial advice.",
                    "loan_management_button": "Manage Loans",
                    "helpline_title": "Farmer Support & Helpline",
                    "helpline_desc": "Get instant support from our agricultural experts. Our helpline is available 24/7 to answer your questions and provide guidance.",
                    "helpline_button": "Call Helpline",
                    "how_it_works_title": "Your Farming Cycle, Upgraded",
                    "how_it_works_subtitle": "Follow these steps to maximize your farm's potential with AgriConnect.",
                    "step1_title": "Diagnose & Plan",
                    "step1_desc": "Use AI tools to diagnose crop issues early and generate a personalized farming plan for the season.",
                    "step2_title": "Buy Quality Inputs",
                    "step2_desc": "Purchase certified seeds, fertilizers, and equipment from our trusted Agri-Shop marketplace.",
                    "step3_title": "Track Your Progress",
                    "step3_desc": "Log your activities, costs, and yields in the Farm Log. Use the dashboard to monitor performance.",
                    "step4_title": "Sell at the Best Price",
                    "step4_desc": "Check live mandi prices, get AI forecasts, and list your produce for sale to verified buyers.",
                    "preview_title": "Latest from the Community & Hub",
                    "preview_subtitle": "Stay updated with the latest tutorials, discussions, and upcoming events.",
                    "preview_tag_tutorial": "Expert Tutorial",
                    "tutorial_title": "Modern Agricultural Practices",
                    "tutorial_desc": "Learn about the latest innovations in farming to boost efficiency and sustainability.",
                    "preview_link_tutorials": "Watch More Tutorials &rarr;",
                    "preview_tag_live": "Upcoming Live Session",
                    "live_session_title": "Drip Irrigation Techniques",
                    "live_session_desc": "Join Dr. Ramesh Gupta to learn about water conservation. Sept 20, 4:00 PM.",
                    "preview_tag_community": "From the Community",
                    "community_post_author_name": "Ramesh K.",
                    "community_post_author_location": "from Haryana",
                    "community_post_text": `"My wheat yield increased by 15% this year after using the AI Yield Analysis tool to adjust my fertilizer schedule. Has anyone else seen good results?"`,
                    "preview_link_community": "Join the Conversation &rarr;",
                    "testimonial1_text": `"AgriConnect is a game-changer. The AI diagnosis saved my tomato crop, and the live mandi prices helped me increase my profits by over 20% last season. It's a must-have for every Indian farmer."`,
                    "testimonial1_author_name": "Ramesh Kumar,",
                    "testimonial1_author_location": "Farmer from Hisar, Haryana",
                    "testimonial2_text": `"The Farm Log is brilliant. For the first time, I have all my data in one place. The AI task suggestions remind me of important activities I used to forget. Highly recommended!"`,
                    "testimonial2_author_name": "Sunita Devi,",
                    "testimonial2_author_location": "Farmer from Nashik, Maharashtra",
                    "testimonial3_text": `"I used the AI Price Forecaster before taking my ragi to the market and waited two more weeks as it suggested. I made an extra ₹8,000! This tool is pure magic."`,
                    "testimonial3_author_name": "Ganesh Murthy,",
                    "testimonial3_author_location": "Farmer from Mandya, Karnataka",
                    "footer_about_text": "Empowering the heart of India. We are committed to bringing technology and profitability to every farmer.",
                    "footer_tools_title": "Our Tools",
                    "footer_contact_title": "Contact Info",
                    // For Quick Stats dynamic updates
                    "stats_price_unit": " / Quintal",
                    "stats_tasks_pending": "You have {pendingTasks} task(s) today",
                    "stats_tasks_none": "No pending tasks. Well done!",
                    "stats_tasks_view": "View your tasks",
                    "chat_bubble_text": "Chat with me",
                    "chat_header_title": "KisanMitra",
                    "chat_header_subtitle": "Your agricultural assistant",
                    "chat_initial_message": "Hello, farmer friend! I am KisanMitra, your agricultural assistant. How can I help you today?",
                    "chat_input_placeholder": "Ask your question...",
                    "chat_api_error": "Sorry, I couldn't process that. Please try again."
                },
                "hi": {
                    "app_title": "एग्रीकनेक्ट",
                    "nav_marketplace": "बाजार",
                    "nav_farmlog": "फार्म लॉग",
                    "nav_tools": "एआई उपकरण",
                    "nav_knowledge": "ज्ञान केंद्र",
                    "nav_labour": "श्रम",
                    "nav_loans": "ऋण",
                    "nav_insurance": "बीमा",
                    "nav_rent": "किराए के उपकरण",
                    "nav_digi": "डिजीलॉकर",
                    "hero_title": "आज, एक बेहतर कल की फसल उगाएं।",
                    "hero_subtitle": "एग्रीकनेक्ट में आपका स्वागत है, जो भारत के किसानों के लिए डिजिटल रीढ़ है। वास्तविक समय का डेटा, एक समृद्ध बाज़ार, और आपके उपज और आय को बढ़ाने के लिए बुद्धिमान उपकरण।",
                    "hero_btn_explore": "सभी उपकरण देखें",
                    "hero_btn_sell": "अपनी फसल सूचीबद्ध करें",
                    "stats_weather_location": "बन्निकुप्पे मौसम",
                    "stats_price_crop": "आज का गेहूं का भाव",
                    "stats_tasks_title": "लंबित कार्य",
                    "features_title": "एक मंच, हर खेती का समाधान",
                    "features_subtitle": "बीज से लेकर बाज़ार तक, एग्रीकनेक्ट आपको आधुनिक कृषि में सफल होने के लिए आवश्यक उपकरण प्रदान करता है।",
                    "feature_card_ai_tools_title": "एआई उपकरण हब",
                    "feature_card_ai_tools_desc": "निदान से लेकर मूल्य पूर्वानुमान तक, हमारे सभी बुद्धिमान सहायकों के लिए आपका केंद्रीय केंद्र।",
                    "feature_card_button": "एआई देखें",
                    "feature_card_marketplace_title": "बाजार",
                    "feature_card_marketplace_desc": "देश भर के किसानों और सत्यापित आपूर्तिकर्ताओं से सीधे फसलें खरीदें और बेचें।",
                    "feature_card_marketplace_button": "बाजार पर जाएँ",
                    "hire_labour_title": "श्रम को किराए पर लें",
                    "hire_labour_desc": "तेजी से कुशल कृषि श्रमिकों को खोजें और किराए पर लें, या काम के अवसरों के लिए खुद को सूचीबद्ध करें।",
                    "hire_labour_btn": "अभी किराए पर लें",
                    "feature_card_farmlog_title": "फार्म लॉग और कार्य",
                    "feature_card_farmlog_desc": "हमारे एकीकृत लॉगबुक के साथ अपनी फसल की पैदावार, लागत को ट्रैक करें और अपने दैनिक कार्यों का प्रबंधन करें।",
                    "feature_card_farmlog_button": "लॉग खोलें",
                    "market_prices_forecasts_title": "बाजार मूल्य और एआई पूर्वानुमान",
                    "market_prices_forecasts_desc": "अपनी फसलों के लिए वास्तविक समय के बाजार मूल्यों के साथ आगे रहें। हमारे उन्नत एआई एल्गोरिदम सटीक मूल्य पूर्वानुमान प्रदान करते हैं।",
                    "market_prices_forecasts_button": "पूर्वानुमान देखें",
                    "feature_card_knowledge_title": "ज्ञान केंद्र",
                    "feature_card_knowledge_desc": "विशेषज्ञ वीडियो ट्यूटोरियल, किसान-निर्मित रील्स देखें, और लाइव शैक्षिक सत्रों में भाग लें।",
                    "feature_card_knowledge_button": "सीखना शुरू करें",
                    "feature_card_community_title": "सामुदायिक मंच",
                    "feature_card_community_desc": "अन्य किसानों से जुड़ें, प्रश्न पूछें, और अपने अनुभव और सफलता की कहानियों को साझा करें।",
                    "community_btn": "चर्चा में शामिल हों",
                    "feature_card_insurance_title": "फसल बीमा",
                    "feature_card_insurance_desc": "अनुकूलित बीमा योजनाओं के साथ अपनी फसल को सुरक्षित करें। एआई सलाह प्राप्त करें और आसानी से दावे दर्ज करें।",
                    "feature_card_insurance_button": "कोटेशन प्राप्त करें",
                    "feature_card_digilocker_title": "डिजिटल लॉकर",
                    "feature_card_digilocker_desc": "अपने महत्वपूर्ण दस्तावेजों जैसे कि भूमि रिकॉर्ड को सुरक्षित रूप से संग्रहीत करें और एआई सारांश प्राप्त करें।",
                    "feature_card_digilocker_button": "लॉकर खोलें",
                    "tool_rental_title": "कृषि उपकरण किराया",
                    "tool_rental_desc": "अपनी जरूरतों के लिए आसानी से कृषि उपकरण किराए पर लें या आय अर्जित करने के लिए अपने स्वयं के उपकरणों को सूचीबद्ध करें।",
                    "tool_rental_button": "उपकरण ढूंढें",
                    "farm_shop_title": "फार्म शॉप",
                    "farm_shop_desc": "सीधे विश्वसनीय आपूर्तिकर्ताओं से उच्च गुणवत्ता वाले बीज, उर्वरक और अन्य आवश्यक कृषि आपूर्ति खरीदें।",
                    "farm_shop_button": "अभी खरीदें",
                    "loan_management_title": "ऋण प्रबंधन पोर्टल",
                    "loan_management_desc": "आसानी से अपने कृषि ऋणों का प्रबंधन करें। नए ऋणों के लिए आवेदन करें, अपनी पुनर्भुगतान अनुसूची को ट्रैक करें, और व्यक्तिगत वित्तीय सलाह प्राप्त करें।",
                    "loan_management_button": "ऋण प्रबंधित करें",
                    "helpline_title": "किसान सहायता और हेल्पलाइन",
                    "helpline_desc": "हमारे कृषि विशेषज्ञों से तत्काल सहायता प्राप्त करें। हमारी हेल्पलाइन आपके प्रश्नों का उत्तर देने और मार्गदर्शन प्रदान करने के लिए 24/7 उपलब्ध है।",
                    "helpline_button": "हेल्पलाइन पर कॉल करें",
                    "how_it_works_title": "आपका कृषि चक्र, उन्नत",
                    "how_it_works_subtitle": "अपनी खेती की क्षमता को अधिकतम करने के लिए इन चरणों का पालन करें।",
                    "step1_title": "निदान और योजना",
                    "step1_desc": "फसल के मुद्दों का जल्दी पता लगाने और मौसम के लिए एक व्यक्तिगत खेती योजना उत्पन्न करने के लिए एआई उपकरणों का उपयोग करें।",
                    "step2_title": "गुणवत्ता इनपुट खरीदें",
                    "step2_desc": "हमारे विश्वसनीय एग्री-शॉप बाज़ार से प्रमाणित बीज, उर्वरक और उपकरण खरीदें।",
                    "step3_title": "अपनी प्रगति को ट्रैक करें",
                    "step3_desc": "अपनी गतिविधियों, लागतों और पैदावार को फार्म लॉग में लॉग करें। प्रदर्शन की निगरानी के लिए डैशबोर्ड का उपयोग करें।",
                    "step4_title": "सर्वोत्तम मूल्य पर बेचें",
                    "step4_desc": "लाइव मंडी मूल्यों की जांच करें, एआई पूर्वानुमान प्राप्त करें, और सत्यापित खरीदारों को बेचने के लिए अपनी उपज सूचीबद्ध करें।",
                    "preview_title": "समुदाय और हब से नवीनतम",
                    "preview_subtitle": "नवीनतम ट्यूटोरियल, चर्चाओं और आगामी घटनाओं के साथ अपडेट रहें।",
                    "preview_tag_tutorial": "विशेषज्ञ ट्यूटोरियल",
                    "tutorial_title": "आधुनिक कृषि पद्धतियाँ",
                    "tutorial_desc": "दक्षता और स्थिरता को बढ़ावा देने के लिए खेती में नवीनतम नवाचारों के बारे में जानें।",
                    "preview_link_tutorials": "अधिक ट्यूटोरियल देखें &rarr;",
                    "preview_tag_live": "आगामी लाइव सत्र",
                    "live_session_title": "ड्रिप सिंचाई तकनीकें",
                    "live_session_desc": "जल संरक्षण के बारे में जानने के लिए डॉ. रमेश गुप्ता के साथ जुड़ें। 20 सितंबर, शाम 4:00 बजे।",
                    "preview_tag_community": "समुदाय से",
                    "community_post_author_name": "रमेश के.",
                    "community_post_author_location": "हरियाणा से",
                    "community_post_text": `"इस साल एआई यील्ड एनालिसिस टूल का उपयोग करके अपनी उर्वरक अनुसूची को समायोजित करने के बाद मेरी गेहूं की पैदावार में 15% की वृद्धि हुई। क्या किसी और ने भी अच्छे परिणाम देखे हैं?"`,
                    "preview_link_community": "बातचीत में शामिल हों &rarr;",
                    "testimonial1_text": `"एग्रीकनेक्ट एक गेम-चेंजर है। एआई निदान ने मेरी टमाटर की फसल को बचाया, और लाइव मंडी मूल्यों ने मुझे पिछले सीजन में 20% से अधिक का लाभ बढ़ाने में मदद की। यह हर भारतीय किसान के लिए जरूरी है। "`,
                    "testimonial1_author_name": "रमेश कुमार,",
                    "testimonial1_author_location": "हिसार, हरियाणा से किसान",
                    "testimonial2_text": `"फार्म लॉग शानदार है। पहली बार, मेरे पास मेरा सारा डेटा एक ही जगह पर है। एआई कार्य सुझाव मुझे महत्वपूर्ण गतिविधियों की याद दिलाते हैं जिन्हें मैं भूल जाता था। अत्यधिक अनुशंसित!"`,
                    "testimonial2_author_name": "सुनीता देवी,",
                    "testimonial2_author_location": "नासिक, महाराष्ट्र से किसान",
                    "testimonial3_text": `"मैंने अपने रागी को बाजार में ले जाने से पहले एआई मूल्य पूर्वानुमानक का उपयोग किया और उसके सुझाव के अनुसार दो और सप्ताह इंतजार किया। मैंने अतिरिक्त ₹8,000 कमाए! यह उपकरण जादू है।"`,
                    "testimonial3_author_name": "गणेश मूर्ति,",
                    "testimonial3_author_location": "मांड्या, कर्नाटक से किसान",
                    "footer_about_text": "भारत के दिल को सशक्त बनाना। हम हर किसान तक प्रौद्योगिकी और लाभप्रदता लाने के लिए प्रतिबद्ध हैं।",
                    "footer_tools_title": "हमारे उपकरण",
                    "footer_contact_title": "संपर्क जानकारी",
                    "stats_price_unit": " / क्विंटल",
                    "stats_tasks_pending": "आपके पास आज {pendingTasks} कार्य है",
                    "stats_tasks_none": "कोई लंबित कार्य नहीं। शाबाश!",
                    "stats_tasks_view": "अपने कार्य देखें",
                    "chat_bubble_text": "मुझसे चैट करें",
                    "chat_header_title": "किसानमित्र",
                    "chat_header_subtitle": "आपका कृषि सहायक",
                    "chat_initial_message": "नमस्ते, किसान भाई! मैं किसानमित्र हूँ, आपका खेतीबाड़ी सहायक। आपकी कैसे मदद कर सकता हूँ?",
                    "chat_input_placeholder": "अपना प्रश्न पूछें...",
                    "chat_api_error": "क्षमा करें, मैं इसे संसाधित नहीं कर सका। कृपया पुनः प्रयास करें."
                },
                "kn": {
                    "app_title": "ಅಗ್ರಿಕನೆಕ್ಟ್",
                    "nav_marketplace": "ಮಾರುಕಟ್ಟೆ",
                    "nav_farmlog": "ಫಾರ್ಮ್ ಲಾಗ್",
                    "nav_tools": "ಎಐ ಪರಿಕರಗಳು",
                    "nav_knowledge": "ಜ್ಞಾನ ಕೇಂದ್ರ",
                    "nav_labour": "ಕಾರ್ಮಿಕ",
                    "nav_loans": "ಸಾಲಗಳು",
                    "nav_insurance": "ವಿಮೆ",
                    "nav_rent": "ಬಾಡಿಗೆ ಉಪಕರಣಗಳು",
                    "nav_digi": "ಡಿಜಿಲಾಕರ್",
                    "hero_title": "ನಾಳೆಗಾಗಿ ಇಂದು ಉತ್ತಮ ಬೆಳೆ ತೆಗೆಯಿರಿ.",
                    "hero_subtitle": "ಭಾರತದ ರೈತರಿಗೆ ಡಿಜಿಟಲ್ ಬೆಂಬಲವಾಗಿರುವ ಅಗ್ರಿಕನೆಕ್ಟ್‌ಗೆ ಸ್ವಾಗತ. ನೈಜ-ಸಮಯದ ಡೇಟಾ, ಅಭಿವೃದ್ಧಿ ಹೊಂದುತ್ತಿರುವ ಮಾರುಕಟ್ಟೆ ಮತ್ತು ನಿಮ್ಮ ಇಳುವರಿ ಮತ್ತು ಆದಾಯವನ್ನು ಹೆಚ್ಚಿಸಲು ಬುದ್ಧಿವಂತ ಪರಿಕರಗಳು.",
                    "hero_btn_explore": "ಎಲ್ಲಾ ಪರಿಕರಗಳನ್ನು ಅನ್ವೇಷಿಸಿ",
                    "hero_btn_sell": "ನಿಮ್ಮ ಬೆಳೆ ಪಟ್ಟಿ ಮಾಡಿ",
                    "stats_weather_location": "ಬನ್ನಿಕುಪ್ಪೆ ಹವಾಮಾನ",
                    "stats_price_crop": "ಇಂದಿನ ಗೋಧಿ ಬೆಲೆ",
                    "stats_tasks_title": "ಬಾಕಿ ಇರುವ ಕಾರ್ಯಗಳು",
                    "features_title": "ಒಂದು ವೇದಿಕೆ, ಪ್ರತಿ ಕೃಷಿ ಪರಿಹಾರ",
                    "features_subtitle": "ಬೀಜದಿಂದ ಮಾರುಕಟ್ಟೆಗೆ, ಅಗ್ರಿಕನೆಕ್ಟ್ ಆಧುನಿಕ ಕೃಷಿಯಲ್ಲಿ ಯಶಸ್ವಿಯಾಗಲು ನಿಮಗೆ ಅಗತ್ಯವಿರುವ ಸಾಧನಗಳನ್ನು ಒದಗಿಸುತ್ತದೆ.",
                    "feature_card_ai_tools_title": "ಎಐ ಪರಿಕರಗಳ ಕೇಂದ್ರ",
                    "feature_card_ai_tools_desc": "ರೋಗನಿರ್ಣಯದಿಂದ ಬೆಲೆ ಮುನ್ಸೂಚನೆಯವರೆಗೆ, ನಮ್ಮ ಎಲ್ಲಾ ಬುದ್ಧಿವಂತ ಸಹಾಯಕರಿಗೆ ನಿಮ್ಮ ಕೇಂದ್ರ ಹಬ್.",
                    "feature_card_button": "ಎಐ ಅನ್ವೇಷಿಸಿ",
                    "feature_card_marketplace_title": "ಮಾರುಕಟ್ಟೆ",
                    "feature_card_marketplace_desc": "ದೇಶಾದ್ಯಂತದ ರೈತರು ಮತ್ತು ಪರಿಶೀಲಿಸಿದ ಪೂರೈಕೆದಾರರಿಂದ ನೇರವಾಗಿ ಬೆಳೆಗಳನ್ನು ಖರೀದಿಸಿ ಮತ್ತು ಮಾರಾಟ ಮಾಡಿ.",
                    "feature_card_marketplace_button": "ಮಾರುಕಟ್ಟೆಗೆ ಭೇಟಿ ನೀಡಿ",
                    "hire_labour_title": "ಕಾರ್ಮಿಕರನ್ನು ನೇಮಿಸಿಕೊಳ್ಳಿ",
                    "hire_labour_desc": "ಕೌಶಲ್ಯಪೂರ್ಣ ಕೃಷಿ ಕಾರ್ಮಿಕರನ್ನು ತ್ವರಿತವಾಗಿ ಹುಡುಕಿ ಮತ್ತು ನೇಮಿಸಿಕೊಳ್ಳಿ, ಅಥವಾ ಕೆಲಸದ ಅವಕಾಶಗಳಿಗಾಗಿ ನಿಮ್ಮನ್ನು ಪಟ್ಟಿ ಮಾಡಿ.",
                    "hire_labour_btn": "ಈಗ ನೇಮಿಸಿಕೊಳ್ಳಿ",
                    "feature_card_farmlog_title": "ಫಾರ್ಮ್ ಲಾಗ್ ಮತ್ತು ಕಾರ್ಯಗಳು",
                    "feature_card_farmlog_desc": "ನಮ್ಮ ಸಮಗ್ರ ಲಾಗ್‌ಬುಕ್‌ನೊಂದಿಗೆ ನಿಮ್ಮ ಬೆಳೆ ಇಳುವರಿ, ವೆಚ್ಚಗಳನ್ನು ಟ್ರ್ಯಾಕ್ ಮಾಡಿ ಮತ್ತು ನಿಮ್ಮ ದೈನಂದಿನ ಕಾರ್ಯಗಳನ್ನು ನಿರ್ವಹಿಸಿ.",
                    "feature_card_farmlog_button": "ಲಾಗ್ ತೆರೆಯಿರಿ",
                    "market_prices_forecasts_title": "ಮಾರುಕಟ್ಟೆ ಬೆಲೆಗಳು ಮತ್ತು AI ಮುನ್ಸೂಚನೆಗಳು",
                    "market_prices_forecasts_desc": "ನಿಮ್ಮ ಬೆಳೆಗಳ ನೈಜ-ಸಮಯದ ಮಾರುಕಟ್ಟೆ ಬೆಲೆಗಳೊಂದಿಗೆ ಮುನ್ನಡೆಯಿರಿ. ನಮ್ಮ ಸುಧಾರಿತ AI ಅಲ್ಗಾರಿದಮ್‌ಗಳು ನಿಖರ ಬೆಲೆ ಮುನ್ಸೂಚನೆಗಳನ್ನು ಒದಗಿಸುತ್ತವೆ.",
                    "market_prices_forecasts_button": "ಮುನ್ಸೂಚನೆಗಳನ್ನು ವೀಕ್ಷಿಸಿ",
                    "feature_card_knowledge_title": "ಜ್ಞಾನ ಕೇಂದ್ರ",
                    "feature_card_knowledge_desc": "ತಜ್ಞರ ವೀಡಿಯೊ ಟ್ಯುಟೋರಿಯಲ್‌ಗಳು, ರೈತ-ನಿರ್ಮಿತ ರೀಲ್‌ಗಳನ್ನು ವೀಕ್ಷಿಸಿ ಮತ್ತು ನೇರ ಶೈಕ್ಷಣಿಕ ಸೆಷನ್‌ಗಳಿಗೆ ಹಾಜರಾಗಿ.",
                    "feature_card_knowledge_button": "ಕಲಿಯಲು ಪ್ರಾರಂಭಿಸಿ",
                    "feature_card_community_title": "ಸಮುದಾಯ ವೇದಿಕೆ",
                    "feature_card_community_desc": "ಇತರ ರೈತರೊಂದಿಗೆ ಸಂಪರ್ಕ ಸಾಧಿಸಿ, ಪ್ರಶ್ನೆಗಳನ್ನು ಕೇಳಿ, ಮತ್ತು ನಿಮ್ಮ ಅನುಭವಗಳು ಮತ್ತು ಯಶಸ್ಸಿನ ಕಥೆಗಳನ್ನು ಹಂಚಿಕೊಳ್ಳಿ.",
                    "community_btn": "ಚರ್ಚೆಯಲ್ಲಿ ಸೇರಿ",
                    "feature_card_insurance_title": "ಬೆಳೆ ವಿಮೆ",
                    "feature_card_insurance_desc": "ಹೊಂದಿಕೊಂಡ ವಿಮಾ ಯೋಜನೆಗಳೊಂದಿಗೆ ನಿಮ್ಮ ಫಸಲನ್ನು ಸುರಕ್ಷಿತಗೊಳಿಸಿ. AI ಸಲಹೆ ಪಡೆಯಿರಿ ಮತ್ತು ಕ್ಲೈಮ್‌ಗಳನ್ನು ಸುಲಭವಾಗಿ ಸಲ್ಲಿಸಿ.",
                    "feature_card_insurance_button": "ಉದ್ಧರಣ ಪಡೆಯಿರಿ",
                    "feature_card_digilocker_title": "ಡಿಜಿಟಲ್ ಲಾಕರ್",
                    "feature_card_digilocker_desc": "ನಿಮ್ಮ ಪ್ರಮುಖ ದಾಖಲೆಗಳನ್ನು ಸುರಕ್ಷಿತವಾಗಿ ಸಂಗ್ರಹಿಸಿ ಮತ್ತು ಭೂ ದಾಖಲೆಗಳಂತಹವುಗಳ AI ಸಾರಾಂಶಗಳನ್ನು ಪಡೆಯಿರಿ.",
                    "feature_card_digilocker_button": "ಲಾಕರ್ ತೆರೆಯಿರಿ",
                    "tool_rental_title": "ಕೃಷಿ ಉಪಕರಣ ಬಾಡಿಗೆ",
                    "tool_rental_desc": "ನಿಮ್ಮ ಅಗತ್ಯಗಳಿಗಾಗಿ ಕೃಷಿ ಉಪಕರಣಗಳನ್ನು ಸುಲಭವಾಗಿ ಬಾಡಿಗೆಗೆ ಪಡೆಯಿರಿ ಅಥವಾ ಆದಾಯ ಗಳಿಸಲು ನಿಮ್ಮ ಸ್ವಂತ ಉಪಕರಣಗಳನ್ನು ಪಟ್ಟಿ ಮಾಡಿ.",
                    "tool_rental_button": "ಉಪಕರಣಗಳನ್ನು ಹುಡುಕಿ",
                    "farm_shop_title": "ಫಾರ್ಮ್ ಶಾಪ್",
                    "farm_shop_desc": "ನಂಬಿಕಸ್ಥ ಪೂರೈಕೆದಾರರಿಂದ ನೇರವಾಗಿ ಉತ್ತಮ ಗುಣಮಟ್ಟದ ಬೀಜಗಳು, ರಸಗೊಬ್ಬರಗಳು ಮತ್ತು ಇತರ ಅಗತ್ಯ ಕೃಷಿ ಸಾಮಗ್ರಿಗಳನ್ನು ಖರೀದಿಸಿ.",
                    "farm_shop_button": "ಈಗ ಶಾಪ್ ಮಾಡಿ",
                    "loan_management_title": "ಸಾಲ ನಿರ್ವಹಣಾ ಪೋರ್ಟಲ್",
                    "loan_management_desc": "ನಿಮ್ಮ ಕೃಷಿ ಸಾಲಗಳನ್ನು ಸುಲಭವಾಗಿ ನಿರ್ವಹಿಸಿ. ಹೊಸ ಸಾಲಗಳಿಗಾಗಿ ಅರ್ಜಿ ಸಲ್ಲಿಸಿ, ನಿಮ್ಮ ಮರುಪಾವತಿ ವೇಳಾಪಟ್ಟಿಯನ್ನು ಟ್ರ್ಯಾಕ್ ಮಾಡಿ, ಮತ್ತು ವೈಯಕ್ತಿಕ ಹಣಕಾಸು ಸಲಹೆ ಪಡೆಯಿರಿ.",
                    "loan_management_button": "ಸಾಲಗಳನ್ನು ನಿರ್ವಹಿಸಿ",
                    "helpline_title": "ರೈತ ಸಹಾಯ ಮತ್ತು ಸಹಾಯವಾಣಿ",
                    "helpline_desc": "ನಮ್ಮ ಕೃಷಿ ತಜ್ಞರಿಂದ ತಕ್ಷಣದ ಬೆಂಬಲ ಪಡೆಯಿರಿ. ನಮ್ಮ ಸಹಾಯವಾಣಿ ನಿಮ್ಮ ಪ್ರಶ್ನೆಗಳಿಗೆ ಉತ್ತರಿಸಲು ಮತ್ತು ಮಾರ್ಗದರ್ಶನ ನೀಡಲು 24/7 ಲಭ್ಯವಿದೆ.",
                    "helpline_button": "ಸಹಾಯವಾಣಿಗೆ ಕರೆ ಮಾಡಿ",
                    "how_it_works_title": "ನಿಮ್ಮ ಕೃಷಿ ಚಕ್ರ, ಅಪ್‌ಗ್ರೇಡ್ ಮಾಡಲಾಗಿದೆ",
                    "how_it_works_subtitle": "ನಿಮ್ಮ ಫಾರ್ಮ್‌ನ ಸಾಮರ್ಥ್ಯವನ್ನು ಹೆಚ್ಚಿಸಲು ಈ ಹಂತಗಳನ್ನು ಅನುಸರಿಸಿ.",
                    "step1_title": "ರೋಗನಿರ್ಣಯ ಮತ್ತು ಯೋಜನೆ",
                    "step1_desc": "ಬೆಳೆ ಸಮಸ್ಯೆಗಳನ್ನು ಬೇಗನೆ ಪತ್ತೆಹಚ್ಚಲು ಮತ್ತು ಸೀಸನ್‌ಗಾಗಿ ವೈಯಕ್ತಿಕ ಕೃಷಿ ಯೋಜನೆಯನ್ನು ರಚಿಸಲು AI ಪರಿಕರಗಳನ್ನು ಬಳಸಿ.",
                    "step2_title": "ಗುಣಮಟ್ಟದ ಒಳಹರಿವುಗಳನ್ನು ಖರೀದಿಸಿ",
                    "step2_desc": "ನಮ್ಮ ನಂಬಿಕಸ್ಥ ಅಗ್ರಿ-ಶಾಪ್ ಮಾರುಕಟ್ಟೆಯಿಂದ ಪ್ರಮಾಣೀಕೃತ ಬೀಜಗಳು, ರಸಗೊಬ್ಬರಗಳು ಮತ್ತು ಉಪಕರಣಗಳನ್ನು ಖರೀದಿಸಿ.",
                    "step3_title": "ನಿಮ್ಮ ಪ್ರಗತಿಯನ್ನು ಟ್ರ್ಯಾಕ್ ಮಾಡಿ",
                    "step3_desc": "ನಿಮ್ಮ ಚಟುವಟಿಕೆಗಳು, ವೆಚ್ಚಗಳು ಮತ್ತು ಇಳುವರಿಗಳನ್ನು ಫಾರ್ಮ್ ಲಾಗ್‌ನಲ್ಲಿ ದಾಖಲಿಸಿ. ಕಾರ್ಯಕ್ಷಮತೆಯನ್ನು ಮೇಲ್ವಿಚಾರಣೆ ಮಾಡಲು ಡ್ಯಾಶ್‌ಬೋರ್ಡ್ ಬಳಸಿ.",
                    "step4_title": "ಅತ್ಯುತ್ತಮ ಬೆಲೆಗೆ ಮಾರಾಟ ಮಾಡಿ",
                    "step4_desc": "ಲೈವ್ ಮಂಡಿ ಬೆಲೆಗಳನ್ನು ಪರಿಶೀಲಿಸಿ, AI ಮುನ್ಸೂಚನೆಗಳನ್ನು ಪಡೆಯಿರಿ ಮತ್ತು ಪರಿಶೀಲಿಸಿದ ಖರೀದಿದಾರರಿಗೆ ಮಾರಾಟ ಮಾಡಲು ನಿಮ್ಮ ಉತ್ಪನ್ನವನ್ನು ಪಟ್ಟಿ ಮಾಡಿ.",
                    "preview_title": "ಸಮುದಾಯ ಮತ್ತು ಕೇಂದ್ರದಿಂದ ಇತ್ತೀಚಿನದು",
                    "preview_subtitle": "ಇತ್ತೀಚಿನ ಟ್ಯುಟೋರಿಯಲ್‌ಗಳು, ಚರ್ಚೆಗಳು ಮತ್ತು ಮುಂಬರುವ ಕಾರ್ಯಕ್ರಮಗಳೊಂದಿಗೆ ನವೀಕರಿಸಿ.",
                    "preview_tag_tutorial": "ತಜ್ಞರ ಟ್ಯುಟೋರಿಯಲ್",
                    "tutorial_title": "ಆಧುನಿಕ ಕೃಷಿ ಪದ್ಧತಿಗಳು",
                    "tutorial_desc": "ದಕ್ಷತೆ ಮತ್ತು ಸ್ಥಿರತೆಯನ್ನು ಹೆಚ್ಚಿಸಲು ಕೃಷಿಯಲ್ಲಿನ ಇತ್ತೀಚಿನ ಆವಿಷ್ಕಾರಗಳ ಬಗ್ಗೆ ತಿಳಿಯಿರಿ.",
                    "preview_link_tutorials": "ಹೆಚ್ಚಿನ ಟ್ಯುಟೋರಿಯಲ್‌ಗಳನ್ನು ವೀಕ್ಷಿಸಿ &rarr;",
                    "preview_tag_live": "ಮುಂಬರುವ ಲೈವ್ ಸೆಷನ್",
                    "live_session_title": "ಹನಿ ನೀರಾವರಿ ತಂತ್ರಗಳು",
                    "live_session_desc": "ಜಲ ಸಂರಕ್ಷಣೆ ಬಗ್ಗೆ ತಿಳಿಯಲು ಡಾ. ರಮೇಶ್ ಗುಪ್ತಾ ಅವರೊಂದಿಗೆ ಸೇರಿಕೊಳ್ಳಿ. ಸೆಪ್ಟೆಂಬರ್ 20, ಸಂಜೆ 4:00.",
                    "preview_tag_community": "ಸಮುದಾಯದಿಂದ",
                    "community_post_author_name": "ರಮೇಶ್ ಕೆ.",
                    "community_post_author_location": "ಹರಿಯಾಣದಿಂದ",
                    "community_post_text": `"ಈ ವರ್ಷ ಎಐ ಇಳುವರಿ ವಿಶ್ಲೇಷಣಾ ಸಾಧನವನ್ನು ಬಳಸಿಕೊಂಡು ನನ್ನ ಗೊಬ್ಬರ ವೇಳಾಪಟ್ಟಿಯನ್ನು ಹೊಂದಿಸಿದ ನಂತರ ನನ್ನ ಗೋಧಿ ಇಳುವರಿ 15% ಹೆಚ್ಚಾಯಿತು. ಬೇರೆ ಯಾರಾದರೂ ಉತ್ತಮ ಫಲಿತಾಂಶಗಳನ್ನು ಕಂಡಿದ್ದಾರೆಯೇ?"`,
                    "preview_link_community": "ಸಂಭಾಷಣೆಯಲ್ಲಿ ಸೇರಿಕೊಳ್ಳಿ &rarr;",
                    "testimonial1_text": `"ಅಗ್ರಿಕನೆಕ್ಟ್ ಆಟ ಬದಲಾಯಿಸುವಂತಿದೆ. AI ರೋಗನಿರ್ಣಯವು ನನ್ನ ಟೊಮೆಟೊ ಬೆಳೆಯನ್ನು ಉಳಿಸಿತು, ಮತ್ತು ಲೈವ್ ಮಂಡಿ ಬೆಲೆಗಳು ಕಳೆದ ಋತುವಿನಲ್ಲಿ ನನ್ನ ಲಾಭವನ್ನು 20% ಕ್ಕಿಂತ ಹೆಚ್ಚಿಸಲು ಸಹಾಯ ಮಾಡಿತು. ಇದು ಪ್ರತಿ ಭಾರತೀಯ ರೈತರಿಗೆ ಅತ್ಯಗತ್ಯವಾಗಿದೆ."`,
                    "testimonial1_author_name": "ರಮೇಶ್ ಕುಮಾರ್,",
                    "testimonial1_author_location": "ಹಿಸಾರ್, ಹರಿಯಾಣದಿಂದ ರೈತ",
                    "testimonial2_text": `"ಫಾರ್ಮ್ ಲಾಗ್ ಅದ್ಭುತವಾಗಿದೆ. ಮೊದಲ ಬಾರಿಗೆ, ನನ್ನ ಎಲ್ಲಾ ಡೇಟಾ ಒಂದೇ ಸ್ಥಳದಲ್ಲಿದೆ. AI ಕಾರ್ಯ ಸಲಹೆಗಳು ನಾನು ಮರೆಯುತ್ತಿದ್ದ ಪ್ರಮುಖ ಚಟುವಟಿಕೆಗಳನ್ನು ನನಗೆ ನೆನಪಿಸುತ್ತವೆ. ಹೆಚ್ಚು ಶಿಫಾರಸು ಮಾಡಲಾಗಿದೆ!"`,
                    "testimonial2_author_name": "ಸುನಿತಾ ದೇವಿ,",
                    "testimonial2_author_location": "ನಾಸಿಕ್, ಮಹಾರಾಷ್ಟ್ರದಿಂದ ರೈತ",
                    "testimonial3_text": `"ನನ್ನ ರಾಗಿಯನ್ನು ಮಾರುಕಟ್ಟೆಗೆ ತೆಗೆದುಕೊಂಡು ಹೋಗುವ ಮೊದಲು ನಾನು ಎಐ ಬೆಲೆ ಮುನ್ಸೂಚಕವನ್ನು ಬಳಸಿದೆ ಮತ್ತು ಅದು ಸೂಚಿಸಿದಂತೆ ಇನ್ನೂ ಎರಡು ವಾರ ಕಾಯ್ದೆ. ನಾನು ಹೆಚ್ಚುವರಿ ₹8,000 ಗಳಿಸಿದೆ! ಈ ಉಪಕರಣವು ಶುದ್ಧ ಮಾಂತ್ರಿಕವಾಗಿದೆ."`,
                    "testimonial3_author_name": "ಗಣೇಶ್ ಮೂರ್ತಿ,",
                    "testimonial3_author_location": "ಮಂಡ್ಯ, ಕರ್ನಾಟಕದಿಂದ ರೈತ",
                    "footer_about_text": "ಭಾರತದ ಹೃದಯಕ್ಕೆ ಅಧಿಕಾರ ನೀಡುವುದು. ನಾವು ಪ್ರತಿ ರೈತನಿಗೆ ತಂತ್ರಜ್ಞಾನ ಮತ್ತು ಲಾಭದಾಯಕತೆಯನ್ನು ತರಲು ಬದ್ಧರಾಗಿದ್ದೇವೆ.",
                    "footer_tools_title": "ನಮ್ಮ ಪರಿಕರಗಳು",
                    "footer_contact_title": "ಸಂಪರ್ಕ ಮಾಹಿತಿ",
                    "stats_price_unit": " / ಕ್ವಿಂಟಾಲ್",
                    "stats_tasks_pending": "ನಿಮಗೆ ಇಂದು {pendingTasks} ಕಾರ್ಯ(ಗಳು) ಇದೆ",
                    "stats_tasks_none": "ಯಾವುದೇ ಬಾಕಿ ಇರುವ ಕಾರ್ಯಗಳಿಲ್ಲ. ಚೆನ್ನಾಗಿ ಮಾಡಿದ್ದೀರಿ!",
                    "stats_tasks_view": "ನಿಮ್ಮ ಕಾರ್ಯಗಳನ್ನು ವೀಕ್ಷಿಸಿ",
                    "chat_bubble_text": "ನನ್ನೊಂದಿಗೆ ಚಾಟ್ ಮಾಡಿ",
                    "chat_header_title": "ಕಿಸಾನ್ ಮಿತ್ರ",
                    "chat_header_subtitle": "ನಿಮ್ಮ ಕೃಷಿ ಸಹಾಯಕ",
                    "chat_initial_message": "ನಮಸ್ಕಾರ, ರೈತ ಮಿತ್ರ! ನಾನು ಕಿಸಾನ್ ಮಿತ್ರ, ನಿಮ್ಮ ಕೃಷಿ ಸಹಾಯಕ. ನಾನು ನಿಮಗೆ ಹೇಗೆ ಸಹಾಯ ಮಾಡಬಹುದು?",
                    "chat_input_placeholder": "ನಿಮ್ಮ ಪ್ರಶ್ನೆಯನ್ನು ಕೇಳಿ...",
                    "chat_api_error": "ಕ್ಷಮಿಸಿ, ನಾನು ಅದನ್ನು ಪ್ರಕ್ರಿಯೆಗೊಳಿಸಲು ಸಾಧ್ಯವಾಗಲಿಲ್ಲ. ದಯವಿಟ್ಟು ಮತ್ತೆ ಪ್ರಯತ್ನಿಸಿ."
                }
            };

            const languageSelector = document.getElementById('language-selector');
            const languageSelectChatbot = document.getElementById('language-select-chatbot'); // New selector for chatbot

            function applyTranslations(lang) {
                document.querySelectorAll('[data-translate-key]').forEach(element => {
                    const key = element.getAttribute('data-translate-key');
                    if (translations[lang] && translations[lang][key]) {
                        element.textContent = translations[lang][key];
                    }
                });
                // Update specific elements that might not just be textContent
                const chatBubble = document.querySelector('.chatbot-button .speech-bubble');
                if (chatBubble && translations[lang] && translations[lang]['chat_bubble_text']) {
                    chatBubble.textContent = translations[lang]['chat_bubble_text'];
                }
            }

            // Function to change overall page language
            function changePageLanguage(lang) {
                applyTranslations(lang);
                localStorage.setItem('selectedLanguage', lang);
                // Also update the chatbot's language selector if it's open
                if (languageSelectChatbot) {
                    languageSelectChatbot.value = lang;
                    // Trigger chatbot's internal language change for initial message
                    languageSelectChatbot.dispatchEvent(new Event('change'));
                }
            }
            
            languageSelector.addEventListener('change', (event) => {
                changePageLanguage(event.target.value);
            });

            // Initial language load
            const savedLanguage = localStorage.getItem('selectedLanguage');
            if (savedLanguage) {
                languageSelector.value = savedLanguage;
                changePageLanguage(savedLanguage);
            } else {
                changePageLanguage('en'); // Default to English
            }

            // --- Intersection Observer for Scroll Animations ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { 
                threshold: 0.1 
            });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

            // --- Sidebar Functionality ---
            const profilePic = document.getElementById('profile-nav-pic');
            const sidebar = document.getElementById('profile-sidebar');
            const overlay = document.getElementById('profile-sidebar-overlay');
            const closeBtn = document.getElementById('close-sidebar-btn');

            const openSidebar = () => {
                sidebar.classList.add('open');
                overlay.classList.add('open');
                document.body.style.overflow = 'hidden'; 
            };
            const closeSidebar = () => {
                sidebar.classList.remove('open');
                overlay.classList.remove('open');
                document.body.style.overflow = '';
            };
            if (profilePic && sidebar && overlay && closeBtn) {
                profilePic.addEventListener('click', openSidebar);
                closeBtn.addEventListener('click', closeSidebar);
                overlay.addEventListener('click', closeSidebar);
            }

            // --- Hero Section Personalization ---
            const welcomeMessage = document.getElementById('welcome-message');
            try {
                const user = JSON.parse(localStorage.getItem('agriUser'));
                if (user && user.name) {
                    welcomeMessage.textContent = `${translations[savedLanguage || 'en']['welcome_back'] || "Welcome back, "}${user.name}!`;
                }
            } catch (e) {
                console.log("No user found, showing default welcome message.");
            }

            // --- Quick Stats Bar Logic ---
            const statsBar = {
                weatherEl: document.getElementById('weather-data'),
                priceEl: document.getElementById('price-data'),
                tasksEl: document.getElementById('tasks-data'),
                
                init() {
                    this.updateWeather();
                    this.updatePrice();
                    this.updateTasks();
                },
                updateWeather() {
                    const weathers = ["28°C, Clear Skies", "30°C, Partly Cloudy", "26°C, Light Showers"];
                    this.weatherEl.textContent = weathers[Math.floor(Math.random() * weathers.length)];
                },
                updatePrice() {
                    const basePrice = 2450;
                    const randomChange = (Math.random() - 0.5) * 50;
                    const livePrice = (basePrice + randomChange).toFixed(2);
                    const priceUnit = translations[languageSelector.value]["stats_price_unit"] || " / Quintal";
                    this.priceEl.textContent = `₹${livePrice}${priceUnit}`;
                },
                updateTasks() {
                    try {
                        const tasks = JSON.parse(localStorage.getItem('dailyTasks')) || [];
                        const pendingTasks = tasks.filter(task => !task.completed).length;
                        if (pendingTasks > 0) {
                            const pendingText = translations[languageSelector.value]["stats_tasks_pending"] || "You have {pendingTasks} task(s) today";
                            this.tasksEl.textContent = pendingText.replace("{pendingTasks}", pendingTasks);
                        } else {
                            this.tasksEl.textContent = translations[languageSelector.value]["stats_tasks_none"] || "No pending tasks. Well done!";
                        }
                    } catch (e) {
                           this.tasksEl.textContent = translations[languageSelector.value]["stats_tasks_view"] || "View your tasks";
                    }
                }
            };
            statsBar.init();
            
            // --- Live Price Ticker Logic ---
            const priceTicker = {
                tape: document.getElementById('price-ticker-tape'),
                data: [
                    { name: 'WHEAT', price: 2478.10, change: 1.2 },
                    { name: 'RICE', price: 3050.75, change: -0.8 },
                    { name: 'RAGI', price: 3570.00, change: 2.1 },
                    { name: 'COTTON', price: 7015.50, change: 0.5 },
                    { name: 'SUGARCANE', price: 402.10, change: 1.5 },
                    { name: 'MUSTARD', price: 5420.00, change: -0.5 },
                    { name: 'SOYBEAN', price: 4380.25, change: 2.8 }
                ],
                init() {
                    const content = this.data.map(item => this.createItemHTML(item)).join('');
                    this.tape.innerHTML = content + content; // Duplicate for seamless scroll
                },
                createItemHTML(item) {
                    const isPositive = item.change >= 0;
                    const changeSymbol = isPositive ? '▲' : '▼';
                    const changeClass = isPositive ? 'ticker-change positive' : 'ticker-change negative';
                    return `
                        <div class="ticker-item">
                            <span class="ticker-name">${item.name}</span>
                            <span class="ticker-price">₹${item.price.toFixed(2)}</span>
                            <span class="${changeClass}">
                                ${changeSymbol} ${Math.abs(item.change)}%
                            </span>
                        </div>
                    `;
                }
            };
            priceTicker.init();

            // --- Testimonial Slider Logic ---
            const testimonialSlider = {
                slides: document.querySelectorAll('.testimonial-slide'),
                dots: document.querySelectorAll('.testimonial-nav .nav-dot'),
                currentIndex: 0,
                interval: null,
                init() {
                    this.dots.forEach((dot, index) => {
                        dot.addEventListener('click', () => this.showSlide(index));
                    });
                    this.showSlide(this.currentIndex);
                    this.startAutoPlay();
                },
                startAutoPlay() {
                    if (this.interval) clearInterval(this.interval);
                    this.interval = setInterval(() => this.nextSlide(), 5000); // Auto-play
                },
                showSlide(index) {
                    this.slides.forEach(slide => slide.classList.remove('active'));
                    this.dots.forEach(dot => dot.classList.remove('active'));
                    this.currentIndex = index;
                    this.slides[this.currentIndex].classList.add('active');
                    this.dots[this.currentIndex].classList.add('active');
                },
                nextSlide() {
                    let nextIndex = (this.currentIndex + 1) % this.slides.length;
                    this.showSlide(nextIndex);
                }
            };
            testimonialSlider.init();
        });

        // --- Chatbot functionality ---
        const API_KEY = "AIzaSyCeil1RRuySImAxPOO6bxh31VDRXms4JSc";
        const ai = new GoogleGenAI({ apiKey: API_KEY });
        
        const elements = {
            chatMessages: document.getElementById('chat-messages'),
            userInput: document.getElementById('user-input'),
            sendButton: document.getElementById('send-button'),
            chatbotButton: document.getElementById('chatbot-button'),
            chatModal: document.getElementById('chat-modal'),
            chatModalClose: document.getElementById('chat-modal-close'),
            voiceButton: document.getElementById('voice-button'),
            languageSelect: document.getElementById('language-select-chatbot'), 
            pageLanguageSelector: document.getElementById('language-selector'), 
        };
        
        const chatbotTranslations = {
            'en': {
                initial: 'Hello, farmer friend! I am KisanMitra, your agricultural assistant. How can I help you today?',
                systemPrompt: `You are an expert agriculture chatbot for farmers in India. Your name is KisanMitra. You must use a friendly and helpful tone. You understand Indian farming practices, crops, seasons, and local challenges. You must answer in English. Keep your responses concise and to the point.`,
                apiError: "Sorry, I couldn't process that. Please try again.",
                placeholder: "Ask your question..."
            },
            'hi': {
                initial: 'नमस्ते, किसान भाई! मैं किसानमित्र हूँ, आपका खेतीबाड़ी सहायक। आपकी कैसे मदद कर सकता हूँ?',
                systemPrompt: `आप एक विशेषज्ञ भारतीय किसान चैटबॉट हैं। आपका नाम किसानमित्र है। आपका अंदाज़ दोस्ताना और सहायक होना चाहिए। आपको भारतीय खेती की जानकारी, फसलें, मौसम और स्थानीय मुश्किलें पता होनी चाहिए। आपको पूरा जवाब हिन्दी में देना चाहिए। अपने जवाबों को संक्षिप्त और सीधा रखें।`,
                apiError: "क्षमा करें, मैं इसे संसाधित नहीं कर सका। कृपया पुनः प्रयास करें।",
                placeholder: "अपना प्रश्न पूछें..."
            },
            'kn': {
                initial: 'ನಮಸ್ಕಾರ, ರೈತ ಮಿತ್ರ! ನಾನು ಕಿಸಾನ್ ಮಿತ್ರ, ನಿಮ್ಮ ಕೃಷಿ ಸಹಾಯಕ. ನಾನು ನಿಮಗೆ ಹೇಗೆ ಸಹಾಯ ಮಾಡಬಹುದು?',
                systemPrompt: `ನೀವು ಭಾರತೀಯ ರೈತರಿಗಾಗಿ ತಜ್ಞ ಕೃಷಿ ಚಾಟ್‌ಬಾಟ್. ನಿಮ್ಮ ಹೆಸರು ಕಿಸಾನ್ ಮಿತ್ರ. ನಿಮ್ಮ ಶೈಲಿ ಸ್ನೇಹಪರ ಮತ್ತು ಸಹಾಯಕವಾಗಿರಬೇಕು. ನಿಮಗೆ ಭಾರತೀಯ ಕೃಷಿ ಪದ್ಧತಿಗಳು, ಬೆಳೆಗಳು, ಹವಾಮಾನ ಮತ್ತು ಸ್ಥಳೀಯ ಸಮಸ್ಯೆಗಳ ಬಗ್ಗೆ ತಿಳಿದಿರಬೇಕು. ನೀವು ಪ್ರಶ್ನೆಗಳಿಗೆ ಕನ್ನಡದಲ್ಲಿ ಉತ್ತರಿಸಬೇಕು. ನಿಮ್ಮ ಉತ್ತರಗಳನ್ನು ಸಂಕ್ಷಿಪ್ತ ಮತ್ತು ನೇರವಾಗಿ ಇರಿಸಿ.`,
                apiError: "ಕ್ಷಮಿಸಿ, ನಾನು ಅದನ್ನು ಪ್ರಕ್ರಿಯೆಗೊಳಿಸಲು ಸಾಧ್ಯವಾಗಲಿಲ್ಲ. ದಯವಿಟ್ಟು ಮತ್ತೆ ಪ್ರಯತ್ನಿಸಿ.",
                placeholder: "ನಿಮ್ಮ ಪ್ರಶ್ನೆಯನ್ನು ಕೇಳಿ..."
            }
        };

        let recognition;
        let chat;
        let currentChatbotLanguage = elements.languageSelect.value;
        
        function startChat(lang) {
            chat = ai.chats.create({
                model: 'gemini-2.5-flash',
                config: {
                    systemInstruction: chatbotTranslations[lang].systemPrompt,
                }
            });
        }

        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message-bubble', isUser ? 'message-user' : 'message-bot');
            messageDiv.textContent = text;
            elements.chatMessages.appendChild(messageDiv);
            elements.chatMessages.scrollTop = elements.chatMessages.scrollHeight;
        }

        elements.chatbotButton.addEventListener('click', () => {
            elements.chatModal.style.display = 'flex';
            void elements.chatModal.offsetWidth; 
            elements.chatModal.classList.add('active');
        });
        
        elements.chatModalClose.addEventListener('click', () => {
            elements.chatModal.classList.remove('active');
            setTimeout(() => elements.chatModal.style.display = 'none', 300);
        });

        elements.languageSelect.addEventListener('change', () => {
            currentChatbotLanguage = elements.languageSelect.value;
            elements.chatMessages.innerHTML = '';
            elements.userInput.placeholder = chatbotTranslations[currentChatbotLanguage].placeholder;
            addMessage(chatbotTranslations[currentChatbotLanguage].initial);
            startChat(currentChatbotLanguage);
            
            if (elements.pageLanguageSelector.value !== currentChatbotLanguage) {
                elements.pageLanguageSelector.value = currentChatbotLanguage;
                const event = new Event('change');
                elements.pageLanguageSelector.dispatchEvent(event);
            }
        });

        if (elements.pageLanguageSelector) {
            currentChatbotLanguage = elements.pageLanguageSelector.value;
            elements.languageSelect.value = currentChatbotLanguage;
            elements.userInput.placeholder = chatbotTranslations[currentChatbotLanguage].placeholder;
        }

        async function sendMessage() {
            const userText = elements.userInput.value.trim();
            if (userText === '' || !chat) return;

            addMessage(userText, true);
            elements.userInput.value = '';

            const loadingMessage = document.createElement('div');
            loadingMessage.classList.add('message-bubble', 'message-bot');
            loadingMessage.innerHTML = '<div class="loading-dots"><div class="loading-dot"></div><div class="loading-dot"></div><div class="loading-dot"></div></div>';
            elements.chatMessages.appendChild(loadingMessage);
            elements.chatMessages.scrollTop = elements.chatMessages.scrollHeight;

            try {
                const response = await chat.sendMessage({ message: userText });
                const botResponse = response.text;

                elements.chatMessages.removeChild(loadingMessage);
                addMessage(botResponse);

            } catch (error) {
                console.error("Error calling Gemini API:", error);
                elements.chatMessages.removeChild(loadingMessage);
                addMessage(chatbotTranslations[currentChatbotLanguage].apiError);
            }
        }

        if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
            recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.continuous = false;
            
            recognition.onstart = () => { elements.voiceButton.classList.add('recording'); };
            recognition.onend = () => { elements.voiceButton.classList.remove('recording'); };
            recognition.onerror = (event) => console.error('Speech recognition error:', event.error);
            recognition.onresult = (event) => {
                elements.userInput.value = event.results[0][0].transcript;
                sendMessage();
            };
            elements.voiceButton.addEventListener('click', () => {
                const langMap = { 'en': 'en-IN', 'hi': 'hi-IN', 'kn': 'kn-IN' };
                recognition.lang = langMap[currentChatbotLanguage];
                recognition.start();
            });
            const initialLangMap = { 'en': 'en-IN', 'hi': 'hi-IN', 'kn': 'kn-IN' };
            recognition.lang = initialLangMap[currentChatbotLanguage];
        } else {
            console.warn('Speech recognition not supported.');
            elements.voiceButton.style.display = 'none';
        }

        elements.sendButton.addEventListener('click', sendMessage);
        elements.userInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });

        startChat(currentChatbotLanguage);
        addMessage(chatbotTranslations[currentChatbotLanguage].initial);
    </script>

</body>
</html>
